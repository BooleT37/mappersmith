/*!
 * Mappersmith 2.36.4
 * https://github.com/tulios/mappersmith
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.mappersmith=t():e.mappersmith=t()}(window,function(){return d=[function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _process,getNanoSeconds,loadTime;__webpack_require__.d(__webpack_exports__,"g",function(){return toQueryString}),__webpack_require__.d(__webpack_exports__,"f",function(){return performanceNow}),__webpack_require__.d(__webpack_exports__,"e",function(){return parseResponseHeaders}),__webpack_require__.d(__webpack_exports__,"d",function(){return lowerCaseObjectKeys}),__webpack_require__.d(__webpack_exports__,"a",function(){return assign}),__webpack_require__.d(__webpack_exports__,"c",function(){return isPlainObject}),__webpack_require__.d(__webpack_exports__,"b",function(){return btoa});try{_process=eval('typeof __TEST_WEB__ === "undefined" && typeof process === "object" ? process : undefined')}catch(e){}var hasProcessHrtime=function(){return null!=_process&&_process.hrtime};hasProcessHrtime()&&(getNanoSeconds=function(){var e=_process.hrtime();return 1e9*e[0]+e[1]},loadTime=getNanoSeconds());var R20=/%20/g,isNeitherNullNorUndefined=function(e){return null!=e},validKeys=function(t){return Object.keys(t).filter(function(e){return isNeitherNullNorUndefined(t[e])})},buildRecursive=function r(n,o){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return Array.isArray(o)?o.map(function(e){return r(n,e,i+"[]")}).join("&"):"object"!==_typeof(o)?"".concat(encodeURIComponent(n+i),"=").concat(encodeURIComponent(o)):Object.keys(o).map(function(e){var t=o[e];return isNeitherNullNorUndefined(t)?r(n,t,i+"["+e+"]"):null}).filter(isNeitherNullNorUndefined).join("&")},toQueryString=function(r){return isPlainObject(r)?Object.keys(r).map(function(e){var t=r[e];return isNeitherNullNorUndefined(t)?buildRecursive(e,t):null}).filter(isNeitherNullNorUndefined).join("&").replace(R20,"+"):r},performanceNow=function(){if(hasProcessHrtime()&&void 0!==getNanoSeconds){var e=getNanoSeconds();if(void 0!==e&&void 0!==loadTime)return(e-loadTime)/1e6}return Date.now()},parseResponseHeaders=function(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0;n<r.length;n++){var o,i=r[n],s=i.indexOf(": ");0<s&&(o=i.substring(0,s).toLowerCase().trim(),s=i.substring(s+2).trim(),t[o]=s)}return t},lowerCaseObjectKeys=function(r){return Object.keys(r).reduce(function(e,t){return e[t.toLowerCase()]=r[t],e},{})},hasOwnProperty=Object.prototype.hasOwnProperty,assign=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},toString=Object.prototype.toString,isPlainObject=function(e){return"[object Object]"===toString.call(e)&&Object.getPrototypeOf(e)===Object.getPrototypeOf({})},CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",btoa=function(e){for(var t,r="",n=CHARS,o=String(e),i=0,s=0;o.charAt(0|s)||(n="=",s%1);r+=n.charAt(63&i>>8-s%1*8)){if(255<(t=o.charCodeAt(s+=.75)))throw new Error("[Mappersmith] 'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");i=i<<8|t}return r}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,"version",function(){return E}),r.d(t,"configs",function(){return q}),r.d(t,"setContext",function(){return R}),r.d(t,"default",function(){return C});var s=o(function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"allowResourceHostOverride",void 0),i(this,"parameterEncoder",void 0),i(this,"authAttr",void 0),i(this,"binary",void 0),i(this,"bodyAttr",void 0),i(this,"headers",void 0),i(this,"headersAttr",void 0),i(this,"host",void 0),i(this,"hostAttr",void 0),i(this,"method",void 0),i(this,"middleware",void 0),i(this,"params",void 0),i(this,"path",void 0),i(this,"queryParamAlias",void 0),i(this,"timeoutAttr",void 0),this.allowResourceHostOverride=t.allowResourceHostOverride||!1,this.parameterEncoder=t.parameterEncoder||encodeURIComponent,this.binary=t.binary||!1,this.headers=t.headers,this.host=t.host,this.method=t.method||"get",this.params=t.params,this.path=t.path,this.queryParamAlias=t.queryParamAlias||{},this.authAttr=t.authAttr||"auth",this.bodyAttr=t.bodyAttr||"body",this.headersAttr=t.headersAttr||"headers",this.hostAttr=t.hostAttr||"host",this.timeoutAttr=t.timeoutAttr||"timeout";t=t.middleware||t.middlewares||[];this.middleware=t}),f=r(0);function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){function o(e,t){var r=t.gatewayConfigs,n=t.middleware,n=void 0===n?[]:n,t=t.context,t=void 0===t?{}:t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),l(this,"host",void 0),l(this,"allowResourceHostOverride",void 0),l(this,"parameterEncoder",void 0),l(this,"bodyAttr",void 0),l(this,"headersAttr",void 0),l(this,"authAttr",void 0),l(this,"timeoutAttr",void 0),l(this,"hostAttr",void 0),l(this,"clientId",void 0),l(this,"gatewayConfigs",void 0),l(this,"resources",void 0),l(this,"context",void 0),l(this,"middleware",void 0),this.host=e.host,this.allowResourceHostOverride=e.allowResourceHostOverride||!1,this.parameterEncoder=e.parameterEncoder||encodeURIComponent,this.bodyAttr=e.bodyAttr,this.headersAttr=e.headersAttr,this.authAttr=e.authAttr,this.timeoutAttr=e.timeoutAttr,this.hostAttr=e.hostAttr,this.clientId=e.clientId||null,this.gatewayConfigs=Object(f.a)({},r,e.gatewayConfigs),this.resources=e.resources||{},this.context=t;t=e.middleware||e.middlewares||[];e.ignoreGlobalMiddleware?this.middleware=t:this.middleware=[].concat(a(t),a(n))}var e,t,r;return e=o,(t=[{key:"eachResource",value:function(r){var n=this;Object.keys(this.resources).forEach(function(t){var e=n.eachMethod(t,function(e){return{name:e,descriptor:n.createMethodDescriptor(t,e)}});r(t,e)})}},{key:"eachMethod",value:function(e,t){return Object.keys(this.resources[e]).map(t)}},{key:"createMethodDescriptor",value:function(e,t){var r=this.resources[e][t];if(!r||!r.path)throw new Error('[Mappersmith] path is undefined for resource "'.concat(e,'" method "').concat(t,'"'));return new s(Object(f.a)({host:this.host,allowResourceHostOverride:this.allowResourceHostOverride,parameterEncoder:this.parameterEncoder,bodyAttr:this.bodyAttr,headersAttr:this.headersAttr,authAttr:this.authAttr,timeoutAttr:this.timeoutAttr,hostAttr:this.hostAttr},r))}},{key:"createMiddleware",value:function(n){var o=this,e=n.resourceName,t=n.resourceMethod,t=this.createMethodDescriptor(e,t).middleware;return[].concat(a(t),a(this.middleware)).map(function(e){var t={__name:e.name||e.toString(),response:function(e){return e()},prepareRequest:function(e){var r=this;return this.request?e().then(function(e){var t;return null===(t=r.request)||void 0===t?void 0:t.call(r,e)}):e()}},r=Object(f.a)(n,{clientId:o.clientId,context:Object(f.a)({},o.context)});return Object(f.a)(t,e(r))})}}])&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}();function d(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach(function(e){b(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=/{([^}?]+)\??}/,w=/\/?{([^}?]+)\?}/g,g=/\/$/,O=function(){function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),b(this,"methodDescriptor",void 0),b(this,"requestParams",void 0),this.methodDescriptor=e,this.requestParams=t}var e,t,r;return e=c,(t=[{key:"isParam",value:function(e){return e!==this.methodDescriptor.headersAttr&&e!==this.methodDescriptor.bodyAttr&&e!==this.methodDescriptor.authAttr&&e!==this.methodDescriptor.timeoutAttr&&e!==this.methodDescriptor.hostAttr}},{key:"params",value:function(){var r=this,n=Object(f.a)({},this.methodDescriptor.params,this.requestParams);return Object.keys(n).reduce(function(e,t){return r.isParam(t)&&(e[t]=n[t]),e},{})}},{key:"method",value:function(){return this.methodDescriptor.method.toLowerCase()}},{key:"host",value:function(){var e=this.methodDescriptor,t=e.allowResourceHostOverride,r=e.hostAttr,e=e.host,e=t?this.requestParams[r]||e||"":e||"";return"string"==typeof e?e.replace(g,""):""}},{key:"path",value:function(){var e,n=this,o=this.params();"/"!==(e="function"==typeof this.methodDescriptor.path?this.methodDescriptor.path(o):this.methodDescriptor.path)[0]&&(e="/".concat(e));for(var t,r=new RegExp(v,"g"),i=[];null!==(t=r.exec(e));)i.push(t[1]);for(var s=0,a=i;s<a.length;s++){var c=a[s],u=new RegExp("{".concat(c,"\\??}"),"g"),l=o[c];null!=l&&"object"!==m(l)&&(e=e.replace(u,this.methodDescriptor.parameterEncoder(l)),delete o[c])}var h=(e=e.replace(w,"")).match(v);if(h)throw new Error("[Mappersmith] required parameter missing (".concat(h[1],'), "').concat(e,'" cannot be resolved'));var d=Object.keys(o).reduce(function(e,t){var r=n.methodDescriptor.queryParamAlias[t]||t,t=o[t];return null!=t&&(e[r]=t),e},{}),h=Object(f.g)(d);return"string"==typeof h&&0!==h.length&&(d=e.includes("?"),e+="".concat(d?"&":"?").concat(h)),e}},{key:"pathTemplate",value:function(){function e(e){return"/"!==e[0]?"/".concat(e):e}var t=this.methodDescriptor.path;return e("function"==typeof t?t(this.params()):t)}},{key:"url",value:function(){return"".concat(this.host()).concat(this.path())}},{key:"headers",value:function(){var e=this.methodDescriptor.headersAttr,e=this.requestParams[e]||{},e=p(p({},this.methodDescriptor.headers),e);return Object(f.d)(e)}},{key:"header",value:function(e){return this.headers()[e.toLowerCase()]}},{key:"body",value:function(){return this.requestParams[this.methodDescriptor.bodyAttr]}},{key:"auth",value:function(){return this.requestParams[this.methodDescriptor.authAttr]}},{key:"timeout",value:function(){return this.requestParams[this.methodDescriptor.timeoutAttr]}},{key:"enhance",value:function(e){var t=this.methodDescriptor.authAttr,r=this.methodDescriptor.bodyAttr,n=this.methodDescriptor.headersAttr,o=this.methodDescriptor.hostAttr,i=this.methodDescriptor.timeoutAttr,s=Object(f.a)({},this.requestParams,e.params),a=this.requestParams[n],a=Object(f.a)({},a,e.headers);return s[n]=a,e.auth&&(s[t]=e.auth),e.body&&(s[r]=e.body),e.host&&(s[o]=e.host),e.timeout&&(s[i]=e.timeout),new c(this.methodDescriptor,s)}},{key:"isBinary",value:function(){return this.methodDescriptor.binary}}])&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}();function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach(function(e){A(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(){function n(e,t,r){if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),A(this,"Promise",void 0),A(this,"manifest",void 0),A(this,"GatewayClassFactory",void 0),A(this,"maxMiddlewareStackExecutionAllowed",void 0),!e)throw new Error("[Mappersmith] invalid manifest (".concat(e,")"));if(!t||!t())throw new Error("[Mappersmith] gateway class not configured (configs.gateway)");if(!r.Promise)throw new Error("[Mappersmith] Promise not configured (configs.Promise)");this.Promise=r.Promise,this.manifest=new h(e,r),this.GatewayClassFactory=t,this.maxMiddlewareStackExecutionAllowed=r.maxMiddlewareStackExecutionAllowed}var e,t,r;return e=n,(t=[{key:"build",value:function(){var r=this,n={_manifest:this.manifest};return this.manifest.eachResource(function(e,t){n[e]=r.buildResource(e,t)}),n}},{key:"buildResource",value:function(r,e){var n=this;return e.reduce(function(e,t){return k(k({},e),{},A({},t.name,function(e){e=new O(t.descriptor,e);return n.invokeMiddlewares(String(r),t.name,e)}))},{})}},{key:"invokeMiddlewares",value:function(e,t,r){function n(){return u().catch(function(e){var t=c.returnedInvalidRequest,r=c.abortExecution,n=c.middleware;if(t||r)throw e;n=new Error('[Mappersmith] middleware "'.concat(n,'" failed in the request phase: ').concat(e.message));throw n.stack=e.stack,n}).then(function(e){if(++l>o.maxMiddlewareStackExecutionAllowed)throw new Error("[Mappersmith] infinite loop detected (middleware stack invoked ".concat(l,' times). Check the use of "renew" in one of the middleware.'));var r=n;return i.reduce(function(e,t){return function(){return t.response(e,r)}},function(){return new s(e,a).call()})()})}var o=this,i=this.manifest.createMiddleware({resourceName:e,resourceMethod:t}),s=this.GatewayClassFactory(),a=this.manifest.gatewayConfigs,c={middleware:null,returnedInvalidRequest:!1,abortExecution:!1},u=i.reduce(function(t,r){return function(){function e(e){throw c.abortExecution=!0,e}return o.Promise.resolve().then(function(){return r.prepareRequest(t,e)}).then(function(e){if(e instanceof O)return e;c.returnedInvalidRequest=!0;var t=_(e),t=("object"===t||"function"===t)&&e.name||t;throw new Error('[Mappersmith] middleware "'.concat(r.__name,'" should return "Request" but returned "').concat(t,'"'))}).catch(function(e){throw c.middleware=r.__name||null,e})}},function(){return o.Promise.resolve(r)}),l=0;return new this.Promise(function(t,e){n().then(function(e){return t(e)}).catch(e)})}}])&&P(e.prototype,t),r&&P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),n}(),E="2.36.4",q={context:{},middleware:[],Promise:"function"==typeof Promise?Promise:null,fetch:"function"==typeof fetch?fetch:null,maxMiddlewareStackExecutionAllowed:2,gateway:null,gatewayConfigs:{emulateHTTP:!1,enableHTTP408OnTimeouts:!1,XHR:{withCredentials:!1,configure:null},HTTP:{useSocketConnectionTimeout:!1,configure:null,onRequestWillStart:null,onRequestSocketAssigned:null,onSocketLookup:null,onSocketConnect:null,onSocketSecureConnect:null,onResponseReadable:null,onResponseEnd:null},Fetch:{credentials:"omit"}}},R=function(e){console.warn("The use of setContext is deprecated - you need to find another way to pass data between your middlewares."),q.context=Object(f.a)(q.context,e)};function C(e){return new S(e,function(){return q.gateway},q).build()}},function(module,exports,__webpack_require__){var lib=__webpack_require__(1),_process,defaultGateway;try{_process=eval('typeof process === "object" ? process : undefined')}catch(e){}"undefined"!=typeof XMLHttpRequest?defaultGateway=__webpack_require__(4).default:void 0!==_process&&(defaultGateway=__webpack_require__(3).default),lib.configs.gateway=defaultGateway,module.exports=lib},function(e,t){},function(e,t,r){"use strict";r.r(t);var i=r(0),s=r(1);function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return(e=new Error(e)).name="TimeoutError",e}var d=/^application\/(json|.*\+json)/,f=function(){function s(e,t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),l(this,"originalRequest",void 0),l(this,"responseStatus",void 0),l(this,"responseData",void 0),l(this,"responseHeaders",void 0),l(this,"errors",void 0),l(this,"timeElapsed",void 0);var i=e.requestParams&&e.requestParams.auth;i?(i=c(c({},i),{},{password:"***"}),this.originalRequest=e.enhance({auth:i})):this.originalRequest=e,this.responseStatus=t,this.responseData=void 0!==r?r:null,this.responseHeaders=n||{},this.errors=o||[],this.timeElapsed=null}var e,t,r;return e=s,(t=[{key:"request",value:function(){return this.originalRequest}},{key:"status",value:function(){return 1223===this.responseStatus?204:this.responseStatus}},{key:"success",value:function(){var e=this.status();return 200<=e&&e<400}},{key:"headers",value:function(){return Object(i.d)(this.responseHeaders)}},{key:"header",value:function(e){e=e.toLowerCase();if(e in this.headers())return this.headers()[e]}},{key:"rawData",value:function(){return this.responseData}},{key:"data",value:function(){if(this.isContentTypeJSON()&&null!==this.responseData)try{return JSON.parse(this.responseData)}catch(e){}return this.responseData}},{key:"isContentTypeJSON",value:function(){var e=this.header("content-type");return void 0!==e&&d.test(e)}},{key:"error",value:function(){var e=this.errors[this.errors.length-1]||null;return"string"==typeof e?new Error(e):e}},{key:"enhance",value:function(e){var t=c(c({},this.headers()),e.headers||{}),e=new s(this.request(),e.status||this.status(),e.rawData||this.rawData()||void 0,t,e.error?[].concat(n(this.errors),[e.error]):n(this.errors));return e.timeElapsed=this.timeElapsed,e}}])&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(),p=/^(delete|put|patch)/i;function m(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.request=e,this.configs=t,this.successCallback=function(){},this.failCallback=function(){}}m.extends=function(e){return Object(i.a)({},m.prototype,e)},m.prototype={options:function(){return this.configs},shouldEmulateHTTP:function(){return this.options().emulateHTTP&&p.test(this.request.method())},call:function(){var e=arguments,n=this,o=Object(i.f)();return new s.configs.Promise(function(t,r){n.successCallback=function(e){e.timeElapsed=Object(i.f)()-o,t(e)},n.failCallback=function(e){e.timeElapsed=Object(i.f)()-o,r(e)};try{n[n.request.method()].apply(n,e)}catch(e){n.dispatchClientError(e.message,e)}})},dispatchResponse:function(e){e.success()?this.successCallback(e):this.failCallback(e)},dispatchClientError:function(e,t){var r;(r=t)&&"TimeoutError"===r.name&&this.options().enableHTTP408OnTimeouts?this.failCallback(new f(this.request,408,e,{},[t])):this.failCallback(new f(this.request,400,e,{},[t]))},prepareBody:function(e,t){var r=this.request.body();this.shouldEmulateHTTP()&&(r=r||{},Object(i.c)(r)&&(r._method=e),t["x-http-method-override"]=e);e=Object(i.g)(r);return e&&Object(i.c)(r)&&(t["content-type"]="application/x-www-form-urlencoded;charset=utf-8"),e}};var y=m,b=window.btoa||i.b;function v(){y.apply(this,arguments)}v.prototype=y.extends({get:function(){var e=this.createXHR();e.open("GET",this.request.url(),!0),this.setHeaders(e,{}),this.configureTimeout(e),this.configureBinary(e),e.send()},head:function(){var e=this.createXHR();e.open("HEAD",this.request.url(),!0),this.setHeaders(e,{}),this.configureTimeout(e),this.configureBinary(e),e.send()},post:function(){this.performRequest("post")},put:function(){this.performRequest("put")},patch:function(){this.performRequest("patch")},delete:function(){this.performRequest("delete")},configureBinary:function(e){this.request.isBinary()&&(e.responseType="blob")},configureTimeout:function(e){var t=this;this.canceled=!1,this.timer=null;var r=this.request.timeout();r&&(e.timeout=r,e.addEventListener("timeout",function(){t.canceled=!0,clearTimeout(t.timer);var e=h("Timeout (".concat(r,"ms)"));t.dispatchClientError(e.message,e)}),this.timer=setTimeout(function(){t.canceled=!0;var e=h("Timeout (".concat(r,"ms)"));t.dispatchClientError(e.message,e)},r+1))},configureCallbacks:function(r){var n=this;r.addEventListener("load",function(){n.canceled||(clearTimeout(n.timer),n.dispatchResponse(n.createResponse(r)))}),r.addEventListener("error",function(e){var t;n.canceled||(clearTimeout(n.timer),t="Network error",e=(e=e?e.message||e.name:r.responseText)?": ".concat(e):"",e=new Error("".concat(t).concat(e)),n.dispatchClientError(t,e))});var e=this.options().XHR;e.withCredentials&&(r.withCredentials=!0),e.configure&&e.configure(r)},performRequest:function(e){var t=this.shouldEmulateHTTP()?"post":e,r=this.createXHR();r.open(t.toUpperCase(),this.request.url(),!0);t={},e=this.prepareBody(e,t);this.setHeaders(r,t),this.configureTimeout(r),this.configureBinary(r);t=[];e&&t.push(e),r.send.apply(r,t)},createResponse:function(e){var t=e.status,r=this.request.isBinary()?e.response:e.responseText,e=Object(i.e)(e.getAllResponseHeaders());return new f(this.request,t,r,e)},setHeaders:function(t,e){var r,n=this.request.auth();n&&(r=n.username||"",n=n.password||"",e.authorization="Basic ".concat(b("".concat(r,":").concat(n))));var o=Object(i.a)(e,this.request.headers());Object.keys(o).forEach(function(e){t.setRequestHeader(e,o[e])})},createXHR:function(){var e=new XMLHttpRequest;return this.configureCallbacks(e),e}});t.default=v}],f={},g.m=d,g.c=f,g.d=function(e,t,r){g.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},g.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},g.t=function(t,e){if(1&e&&(t=g(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(g.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)g.d(r,n,function(e){return t[e]}.bind(null,n));return r},g.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return g.d(t,"a",t),t},g.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},g.p="",g(g.s=2);function g(e){if(f[e])return f[e].exports;var t=f[e]={i:e,l:!1,exports:{}};return d[e].call(t.exports,t,t.exports,g),t.l=!0,t.exports}var d,f});
//# sourceMappingURL=mappersmith.map