/*!
 * Mappersmith 2.35.0
 * https://github.com/tulios/mappersmith
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.mappersmith=t():e.mappersmith=t()}(window,function(){return d=[function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _process,getNanoSeconds,loadTime;__webpack_require__.d(__webpack_exports__,"g",function(){return toQueryString}),__webpack_require__.d(__webpack_exports__,"f",function(){return performanceNow}),__webpack_require__.d(__webpack_exports__,"e",function(){return parseResponseHeaders}),__webpack_require__.d(__webpack_exports__,"d",function(){return lowerCaseObjectKeys}),__webpack_require__.d(__webpack_exports__,"a",function(){return assign}),__webpack_require__.d(__webpack_exports__,"c",function(){return isPlainObject}),__webpack_require__.d(__webpack_exports__,"b",function(){return btoa});try{_process=eval('typeof __TEST_WEB__ === "undefined" && typeof process === "object" ? process : undefined')}catch(e){}var hasProcessHrtime=function(){return null!=_process&&_process.hrtime};hasProcessHrtime()&&(getNanoSeconds=function(){var e=_process.hrtime();return 1e9*e[0]+e[1]},loadTime=getNanoSeconds());var R20=/%20/g,isNeitherNullNorUndefined=function(e){return null!=e},validKeys=function(t){return Object.keys(t).filter(function(e){return isNeitherNullNorUndefined(t[e])})},buildRecursive=function t(r,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return Array.isArray(n)?n.map(function(e){return t(r,e,o+"[]")}).join("&"):"object"!==_typeof(n)?"".concat(encodeURIComponent(r+o),"=").concat(encodeURIComponent(n)):validKeys(n).map(function(e){return t(r,n[e],o+"["+e+"]")}).join("&")},toQueryString=function(t){return isPlainObject(t)?validKeys(t).map(function(e){return buildRecursive(e,t[e])}).join("&").replace(R20,"+"):t},performanceNow=function(){if(hasProcessHrtime()&&void 0!==getNanoSeconds){var e=getNanoSeconds();if(void 0!==e&&void 0!==loadTime)return(e-loadTime)/1e6}return Date.now()},parseResponseHeaders=function(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0;n<r.length;n++){var o,i=r[n],s=i.indexOf(": ");0<s&&(o=i.substring(0,s).toLowerCase().trim(),s=i.substring(s+2).trim(),t[o]=s)}return t},lowerCaseObjectKeys=function(r){return Object.keys(r).reduce(function(e,t){return e[t.toLowerCase()]=r[t],e},{})},hasOwnProperty=Object.prototype.hasOwnProperty,assign=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},toString=Object.prototype.toString,isPlainObject=function(e){return"[object Object]"===toString.call(e)&&Object.getPrototypeOf(e)===Object.getPrototypeOf({})},CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",btoa=function(e){for(var t,r="",n=CHARS,o=String(e),i=0,s=0;o.charAt(0|s)||(n="=",s%1);r+=n.charAt(63&i>>8-s%1*8)){if(255<(t=o.charCodeAt(s+=.75)))throw new Error("[Mappersmith] 'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");i=i<<8|t}return r}},function(e,t,r){"use strict";function n(e){this.host=e.host,this.allowResourceHostOverride=e.allowResourceHostOverride||!1,this.path=e.path,this.method=e.method||"get",this.headers=e.headers,this.params=e.params,this.queryParamAlias=e.queryParamAlias||{},this.binary=e.binary||!1,this.bodyAttr=e.bodyAttr||"body",this.headersAttr=e.headersAttr||"headers",this.authAttr=e.authAttr||"auth",this.timeoutAttr=e.timeoutAttr||"timeout",this.hostAttr=e.hostAttr||"host";e=e.middleware||e.middlewares||[];this.middleware=e}r.r(t),r.d(t,"version",function(){return y}),r.d(t,"configs",function(){return w}),r.d(t,"setContext",function(){return _}),r.d(t,"default",function(){return v});var f=r(0);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=t.gatewayConfigs,n=void 0===r?null:r,r=t.middleware,r=void 0===r?[]:r,t=t.context,t=void 0===t?{}:t;this.host=e.host,this.allowResourceHostOverride=e.allowResourceHostOverride||!1,this.bodyAttr=e.bodyAttr,this.headersAttr=e.headersAttr,this.authAttr=e.authAttr,this.timeoutAttr=e.timeoutAttr,this.hostAttr=e.hostAttr,this.clientId=e.clientId||null,this.gatewayConfigs=Object(f.a)({},n,e.gatewayConfigs),this.resources=e.resources||{},this.context=t;t=e.middleware||e.middlewares||[];e.ignoreGlobalMiddleware?this.middleware=t:this.middleware=[].concat(o(t),o(r))}s.prototype={eachResource:function(r){var n=this;Object.keys(this.resources).forEach(function(t){var e=n.eachMethod(t,function(e){return{name:e,descriptor:n.createMethodDescriptor(t,e)}});r(t,e)})},eachMethod:function(e,t){return Object.keys(this.resources[e]).map(t)},createMethodDescriptor:function(e,t){var r=this.resources[e][t];if(!r||!r.path)throw new Error('[Mappersmith] path is undefined for resource "'.concat(e,'" method "').concat(t,'"'));return new n(Object(f.a)({host:this.host,allowResourceHostOverride:this.allowResourceHostOverride,bodyAttr:this.bodyAttr,headersAttr:this.headersAttr,authAttr:this.authAttr,timeoutAttr:this.timeoutAttr,hostAttr:this.hostAttr},r))},createMiddleware:function(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=r.resourceName,n=r.resourceMethod,n=this.createMethodDescriptor(e,n).middleware;return[].concat(o(n),o(this.middleware)).map(function(e){return Object(f.a)({__name:e.name||e.toString(),response:function(e){return e()},prepareRequest:function(e){var t=this;return this.request?e().then(function(e){return t.request(e)}):e()}},e(Object(f.a)(r,{clientId:t.clientId,context:Object(f.a)({},t.context)})))})}};var a=s,l=/{([^}?]+)\??}/,p=/\/?{([^}?]+)\?}/g,c=/\/$/;function u(e,t){this.methodDescriptor=e,this.requestParams=t||{}}u.prototype={params:function(){var n=this,o=Object(f.a)({},this.methodDescriptor.params,this.requestParams);return Object.keys(o).reduce(function(e,t){var r;return(r=t)!==n.methodDescriptor.headersAttr&&r!==n.methodDescriptor.bodyAttr&&r!==n.methodDescriptor.authAttr&&r!==n.methodDescriptor.timeoutAttr&&r!==n.methodDescriptor.hostAttr&&(e[t]=o[t]),e},{})},method:function(){return this.methodDescriptor.method.toLowerCase()},host:function(){var e=this.methodDescriptor,t=e.allowResourceHostOverride,r=e.hostAttr,n=e.host;return(t?this.requestParams[r]||n||"":n||"").replace(c,"")},path:function(){var e,r=this,n=this.params();"/"!==(e="function"==typeof this.methodDescriptor.path?this.methodDescriptor.path(n):this.methodDescriptor.path)[0]&&(e="/".concat(e));for(var t,o=new RegExp(l,"g"),i=[];null!==(t=o.exec(e));)i.push(t[1]);for(var s=0,a=i;s<a.length;s++){var c=a[s],u=new RegExp("{".concat(c,"\\??}"),"g");null!=n[c]&&(e=e.replace(u,encodeURIComponent(n[c])),delete n[c])}var h=(e=e.replace(p,"")).match(l);if(h)throw new Error("[Mappersmith] required parameter missing (".concat(h[1],'), "').concat(e,'" cannot be resolved'));var d=Object.keys(n).reduce(function(e,t){return e[r.methodDescriptor.queryParamAlias[t]||t]=n[t],e},{}),h=Object(f.g)(d);return 0!==h.length&&(d=e.includes("?"),e+="".concat(d?"&":"?").concat(h)),e},pathTemplate:function(){var e=this.methodDescriptor.path;return e="function"!=typeof this.methodDescriptor.path&&"/"!==e[0]?"/".concat(e):e},url:function(){return"".concat(this.host()).concat(this.path())},headers:function(){return Object(f.d)(Object(f.a)({},this.methodDescriptor.headers,this.requestParams[this.methodDescriptor.headersAttr]))},header:function(e){return this.headers()[e.toLowerCase()]},body:function(){return this.requestParams[this.methodDescriptor.bodyAttr]},auth:function(){return this.requestParams[this.methodDescriptor.authAttr]},timeout:function(){return this.requestParams[this.methodDescriptor.timeoutAttr]},enhance:function(e){var t=this.methodDescriptor.headersAttr,r=this.methodDescriptor.bodyAttr,n=this.methodDescriptor.authAttr,o=this.methodDescriptor.timeoutAttr,i=this.methodDescriptor.hostAttr,s=Object(f.a)({},this.requestParams,e.params);return s[t]=Object(f.a)({},this.requestParams[t],e.headers),e.body&&(s[r]=e.body),e.auth&&(s[n]=e.auth),e.timeout&&(s[o]=e.timeout),e.host&&(s[i]=e.host),new u(this.methodDescriptor,s)},isBinary:function(){return this.methodDescriptor.binary}};var d=u;function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,r){if(!e)throw new Error("[Mappersmith] invalid manifest (".concat(e,")"));if(!t||!t())throw new Error("[Mappersmith] gateway class not configured (configs.gateway)");this.Promise=r.Promise,this.manifest=new a(e,r),this.GatewayClassFactory=t,this.maxMiddlewareStackExecutionAllowed=r.maxMiddlewareStackExecutionAllowed}h.prototype={build:function(){var r=this,n={_manifest:this.manifest};return this.manifest.eachResource(function(e,t){n[e]=r.buildResource(e,t)}),n},buildResource:function(o,e){var i=this;return e.reduce(function(e,t){return Object(f.a)(e,(r={},n=t.name,e=function(e){e=new d(t.descriptor,e);return i.invokeMiddlewares(o,t.name,e)},n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r));var r,n},{})},invokeMiddlewares:function(e,t,r){function n(){return u().catch(function(e){var t=c.returnedInvalidRequest,r=c.abortExecution,n=c.middleware;if(t||r)throw e;n=new Error('[Mappersmith] middleware "'.concat(n,'" failed in the request phase: ').concat(e.message));throw n.stack=e.stack,n}).then(function(e){if(++h>o.maxMiddlewareStackExecutionAllowed)throw new Error("[Mappersmith] infinite loop detected (middleware stack invoked ".concat(h,' times). Check the use of "renew" in one of the middleware.'));var r=n;return i.reduce(function(e,t){return function(){return t.response(e,r)}},function(){return new s(e,a).call()})()})}var o=this,i=this.manifest.createMiddleware({resourceName:e,resourceMethod:t}),s=this.GatewayClassFactory(),a=this.manifest.gatewayConfigs,c={middleware:null,returnedInvalidRequest:!1,abortExecution:!1},u=i.reduce(function(t,r){return function(){function e(e){throw c.abortExecution=!0,e}return o.Promise.resolve().then(function(){return r.prepareRequest(t,e)}).then(function(e){if(e instanceof d)return e;c.returnedInvalidRequest=!0;var t=m(e),t=("object"===t||"function"===t)&&e.name||t;throw new Error('[Mappersmith] middleware "'.concat(r.__name,'" should return "Request" but returned "').concat(t,'"'))}).catch(function(e){throw c.middleware=r.__name,e})}},function(){return o.Promise.resolve(r)}),h=0;return new this.Promise(function(t,e){n().then(function(e){return t(e)}).catch(e)})}};var b=h,y="2.35.0",w={context:{},middleware:[],Promise:"function"==typeof Promise?Promise:null,fetch:"function"==typeof fetch?fetch:null,maxMiddlewareStackExecutionAllowed:2,gateway:null,gatewayConfigs:{emulateHTTP:!1,enableHTTP408OnTimeouts:!1,XHR:{withCredentials:!1,configure:null},HTTP:{useSocketConnectionTimeout:!1,configure:null,onRequestWillStart:null,onRequestSocketAssigned:null,onSocketLookup:null,onSocketConnect:null,onSocketSecureConnect:null,onResponseReadable:null,onResponseEnd:null},Fetch:{credentials:"omit"}}},_=function(e){console.warn("The use of setContext is deprecated - you need to find another way to pass data between your middlewares."),w.context=Object(f.a)(w.context,e)};function v(e){return new b(e,function(){return w.gateway},w).build()}},function(module,exports,__webpack_require__){var lib=__webpack_require__(1),_process,defaultGateway;try{_process=eval('typeof process === "object" ? process : undefined')}catch(e){}"undefined"!=typeof XMLHttpRequest?defaultGateway=__webpack_require__(4).default:void 0!==_process&&(defaultGateway=__webpack_require__(3).default),lib.configs.gateway=defaultGateway,module.exports=lib},function(e,t){},function(e,t,r){"use strict";r.r(t);var s=r(0),i=r(1);function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=/^application\/(json|.*\+json)/;function c(e,t,r,n,o){var i;e.requestParams&&e.requestParams.auth?(i=Object(s.a)({},e.requestParams.auth,{password:"***"}),this.originalRequest=e.enhance({auth:i})):this.originalRequest=e,this.responseStatus=t,this.responseData=void 0!==r?r:null,this.responseHeaders=n||{},this.errors=o||[],this.timeElapsed=null}c.prototype={request:function(){return this.originalRequest},status:function(){return 1223===this.responseStatus?204:this.responseStatus},success:function(){var e=this.status();return 200<=e&&e<400},headers:function(){return Object(s.d)(this.responseHeaders)},header:function(e){return this.headers()[e.toLowerCase()]},rawData:function(){return this.responseData},data:function(){var e=this.responseData;if(this.isContentTypeJSON())try{e=JSON.parse(this.responseData)}catch(e){}return e},isContentTypeJSON:function(){return a.test(this.headers()["content-type"])},error:function(){var e=this.errors[this.errors.length-1]||null;return"string"==typeof e?new Error(e):e},enhance:function(e){e=new c(this.request(),e.status||this.status(),e.rawData||this.rawData(),Object(s.a)({},this.headers(),e.headers),e.error?[].concat(n(this.errors),[e.error]):n(this.errors));return e.timeElapsed=this.timeElapsed,e}};function u(e){return(e=new Error(e)).name="TimeoutError",e}var h=c,d=/^(delete|put|patch)/i;function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.request=e,this.configs=t,this.successCallback=function(){},this.failCallback=function(){}}f.extends=function(e){return Object(s.a)({},f.prototype,e)},f.prototype={options:function(){return this.configs},shouldEmulateHTTP:function(){return this.options().emulateHTTP&&d.test(this.request.method())},call:function(){var e=arguments,n=this,o=Object(s.f)();return new i.configs.Promise(function(t,r){n.successCallback=function(e){e.timeElapsed=Object(s.f)()-o,t(e)},n.failCallback=function(e){e.timeElapsed=Object(s.f)()-o,r(e)};try{n[n.request.method()].apply(n,e)}catch(e){n.dispatchClientError(e.message,e)}})},dispatchResponse:function(e){e.success()?this.successCallback(e):this.failCallback(e)},dispatchClientError:function(e,t){var r;(r=t)&&"TimeoutError"===r.name&&this.options().enableHTTP408OnTimeouts?this.failCallback(new h(this.request,408,e,{},[t])):this.failCallback(new h(this.request,400,e,{},[t]))},prepareBody:function(e,t){var r=this.request.body();this.shouldEmulateHTTP()&&(r=r||{},Object(s.c)(r)&&(r._method=e),t["x-http-method-override"]=e);e=Object(s.g)(r);return e&&Object(s.c)(r)&&(t["content-type"]="application/x-www-form-urlencoded;charset=utf-8"),e}};var l=f,p=window.btoa||s.b;function m(e){l.apply(this,arguments)}m.prototype=l.extends({get:function(){var e=this.createXHR();e.open("GET",this.request.url(),!0),this.setHeaders(e,{}),this.configureTimeout(e),this.configureBinary(e),e.send()},head:function(){var e=this.createXHR();e.open("HEAD",this.request.url(),!0),this.setHeaders(e,{}),this.configureTimeout(e),this.configureBinary(e),e.send()},post:function(){this.performRequest("post")},put:function(){this.performRequest("put")},patch:function(){this.performRequest("patch")},delete:function(){this.performRequest("delete")},configureBinary:function(e){this.request.isBinary()&&(e.responseType="blob")},configureTimeout:function(e){var t=this;this.canceled=!1,this.timer=null;var r=this.request.timeout();r&&(e.timeout=r,e.addEventListener("timeout",function(){t.canceled=!0,clearTimeout(t.timer);var e=u("Timeout (".concat(r,"ms)"));t.dispatchClientError(e.message,e)}),this.timer=setTimeout(function(){t.canceled=!0;var e=u("Timeout (".concat(r,"ms)"));t.dispatchClientError(e.message,e)},r+1))},configureCallbacks:function(r){var n=this;r.addEventListener("load",function(){n.canceled||(clearTimeout(n.timer),n.dispatchResponse(n.createResponse(r)))}),r.addEventListener("error",function(e){var t;n.canceled||(clearTimeout(n.timer),t="Network error",e=(e=e?e.message||e.name:r.responseText)?": ".concat(e):"",e=new Error("".concat(t).concat(e)),n.dispatchClientError(t,e))});var e=this.options().XHR;e.withCredentials&&(r.withCredentials=!0),e.configure&&e.configure(r)},performRequest:function(e){var t=this.shouldEmulateHTTP()?"post":e,r=this.createXHR();r.open(t.toUpperCase(),this.request.url(),!0);t={},e=this.prepareBody(e,t);this.setHeaders(r,t),this.configureTimeout(r),this.configureBinary(r);t=[];e&&t.push(e),r.send.apply(r,t)},createResponse:function(e){var t=e.status,r=this.request.isBinary()?e.response:e.responseText,e=Object(s.e)(e.getAllResponseHeaders());return new h(this.request,t,r,e)},setHeaders:function(t,e){var r,n=this.request.auth();n&&(r=n.username||"",n=n.password||"",e.authorization="Basic ".concat(p("".concat(r,":").concat(n))));var o=Object(s.a)(e,this.request.headers());Object.keys(o).forEach(function(e){t.setRequestHeader(e,o[e])})},createXHR:function(){var e=new XMLHttpRequest;return this.configureCallbacks(e),e}});t.default=m}],f={},g.m=d,g.c=f,g.d=function(e,t,r){g.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},g.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},g.t=function(t,e){if(1&e&&(t=g(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(g.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)g.d(r,n,function(e){return t[e]}.bind(null,n));return r},g.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return g.d(t,"a",t),t},g.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},g.p="",g(g.s=2);function g(e){if(f[e])return f[e].exports;var t=f[e]={i:e,l:!1,exports:{}};return d[e].call(t.exports,t,t.exports,g),t.l=!0,t.exports}var d,f});
//# sourceMappingURL=mappersmith.map